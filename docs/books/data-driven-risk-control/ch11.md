# 第11章：信用评分模型案例（消费产品分期）

案例说明：本评分模型开发项目是某金融服务公司的消费分期产品，主要是根据客户过去一段时间的交易信息、还款状况，以及一些身份特质而产生的信用评分模型，以作为之后进件准驳与否的参考。

## 1. 数据样本

本评分模型建立的观察时点（Observation Point）为2016年5月18日，以2015年7月15日—2016年5月17日为开发样本观察期（Observation Period）​。样本数据除了金融服务公司提供其贷款产品的主文档数据“申请信息与每月月终逾期情况统计表”外，还由第三方征信业者提供外部征信数据来参与模型的建立。资料内容整理如表11-1所示。

| 数据集名称 | 资料说明 | 笔数/笔 | 字段数/个 |
| :---- | :---- | :---- | :---- |
| 金融服务公司 | 金融公司客户申请资料 | 132060 | 24 |
| 第三方数据源——A | 申请个人资料征信报告 | 1372890 | 466 |
| 第三方数据源——B | 申请个人信用规则统计表 | 559439 | 21 |

## 2. 样本好坏表现定义

样本的好坏定义是决定整个模型的涵盖率及鉴别度高低的重要依据，所有合格的开发样本均需依其表现期数据决定表现表现，并通过账龄分析（Vintage Analysis）及滚动率（Roll Rate）分析来判断样本的好坏。一般而言，违约客户被定义为坏样本，反之，则为好样本。

账龄分析可以让模型建立人员了解项目样本过往违约率变化及违约成熟期长短。一般而言，样本应从已达违约成熟期长度的客户中选取，因此我们的分析会从客户申请核准且拨款后开始，观察客户往来多久时发生违约，当发生违约后，该笔样本即被视为违约样本，进而计算每个申请月份在往来期间每个月所发生的累计违约样本，如表11-2所示。

![表11-2：前3个月每月违约账龄分析表](https://mingminyu.github.io/webassets/images/20251211/11_01.png)

主文档资料期间为2015年7月—2016年5月，最长往来期间才11个月，但根据分析金融服务贷放类产品的经验，客户的违约成熟期为18～36个月。其中，个人信用贷款18～24个月，房屋贷款24～36个月，因此，仅能利用现有的数据进行分析及观察客户的违约成熟期长度。

兹设定3种违约情境分别为M1、M2与M3，并观察客户与金融服务公司往来后的逾期状况，参考图11-1～图11-3。

![图11-1：损益表M1](https://mingminyu.github.io/webassets/images/20251211/11_02.png)
![图11-1：损益表M2](https://mingminyu.github.io/webassets/images/20251211/11_03.png)
![图11-1：损益表M3](https://mingminyu.github.io/webassets/images/20251211/11_04.png)

当设定违约定义为与金融服务公司往来后首次发生M1或M2时，往来5～7个月后，违约率逐渐趋向平稳。若是首次发生M3，则需8个月后违约率才趋于成熟稳定。

滚动率分析则是观察客户发生逾期后，在每个逾期状态下，次月发生信用贬落的百分比，借此了解何种逾期状态发生后的客户可视为违约。利用金融服务公司提供的主档串接月末逾期数据，找出核准且拨款样本每个月的逾期状态，计算每个月每种逾期状态下，次月发生信用贬落（如当月M1次月M2）的百分比。

以此项目来说，当月发生M1、次月贬落M2的百分比56.5%～77.2%；当月M2次月贬落M3则为82.7%～91.8%，因此，当客户发生M2时，未来很有可能信用持续恶化形成违约呆账。详见表11-3客户滚动率资料。

| 日期       | 7~15 | 8~15 | 9~15 | 10~15 | 11~15 | 12~15 | 1~16 | 2~16 | 3~16 |
|------------|------|------|------|-------|-------|-------|------|------|------|
| M1/%       | 0.00 | 16.20 | 31.70 | 25.10 | 22.10 | 18.60 | 14.40 | 9.00 | 8.10 |
| M1~M2/%    | —    | —    | —    | 69.10 | 76.60 | 77.20 | 76.00 | 56.50 | 63.90 |
| M2~M3/%     | —    | —    | —    | —     | 85.80 | 88.00 | 91.80 | 84.30 | 82.70 |
| M3~M4/%     | —    | —    | —    | —     | —     | 98.00 | 89.50 | 90.30 | 93.10 |

将以上账龄分析及滚动率的数据提供给金融服务公司，则该公司根据本身产品的特性、授信政策、风险控管与催收策略将评分卡的违约定义为：核准后缴款5个月内曾发生M1+两次，或缴款未满5个月但曾发生M1两次。

## 3. 变量分析

评分模型的目的是将有效预测客户未来发生违约的字段进行最佳配置，字段的质与量会左右模型预测能力。因此，在模型开发前，会使用金融服务公司提供的客户申请及第三方征信数据，根据过往模型开发经验，产出相关的衍生字段放入长变量列表（Long List）​。

接下来，利用统计检验方法：T检验、卡方检验与IV信息值（Information Value）值的大小，从长清单中筛选有区隔力及预测力的字段进入短变量列表（Short List）​，短变量列表内的字段供下个阶段模型开发及后续模型微调所用。

在这个项目中产出了466个衍生字段，从客户申请数据衍生了6个衍生字段。针对这些字段的原始数字，连续型字段利用T检验，间断型字段利用卡方检验（设定5%的显著水平）进行初步筛选，淘汰掉无好坏区隔能力的字段，最终通过检验的有191个。

将通过检验的字段，根据字段与违约与否进行属性分组（Attribute Segmentation）​，找出各字段与违约的趋势，观察是否呈现单调性且符合金融服务公司对于该字段的业务直觉。接着计算字段的WOE值，它是衡量字段中每一属性好坏户数比差异的程度，WOE的绝对值越大，表示好坏户数比的差异也越大，且WOE越大，表示该属性越不容易发生违约，其计算公式如下：

$$
\text{WOE} = [\ln(\frac{正常户占比}{违约户占比})]
$$


WOE 计算完毕后，开始计算字段的IV值，它是衡量字段分辨好坏的能力高低的，IV值越大表示字段分辨好坏的能力越高，IV值的计算公式为：

$$
\text{IV} = \sum_{i=1}^{n} (正常户占比 - 违约户占比) \times \text{WOE}
$$

变量分析如表11-4所示。

![表11-4：前3个月每月违约账龄分析表](https://mingminyu.github.io/webassets/images/20251211/11_05.png)

以表11-4的字段为例来计算分组为（1.38,1.85］的WOE值及相对的IV，​（1.38,1.85］的好样本有181笔，好样本百分比为9%（181/1 959）​，坏样本有155笔，坏样本百分比为11%（155/1 360）​，所以WOE约为ln（9%/11%）=-0.210。该分组的IV值为（9%-11%）×ln（9%/11%）=0.004 5。以此类推，将另外4个分组的IV值计算完毕/加总所有分组的IV值后，即为“距申请日期前最长实名认证的绑定账号期间”这个字段的IV值0.091 4= 0.0483+0.004 5+0.000 8+0.024 7+0.013 1。关于判断IV值高低、预测水平的经验法则如表11-5所示，若IV值超过0.5则表示预测能力好到令人怀疑——是否是因为资料清理不完全，或是字段曾经过操弄。

| IV 值        | 预测水平                         |
|--------------|----------------------------------|
| X < 0.02     | 无预测能力（Unpredictive）       |
| 0.02 ≤ X < 0.1 | 弱预测能力（Weak）              |
| 0.1 ≤ X < 0.3  | 中预测能力（Medium）            |
| X ≥ 0.3      | 强预测能力（Strong）             |

一般而言，开发模型前会从长变量列表（Long List）中挑选通过检验且IV值大于0.1的字段进入短变量列表（Short List）​，为日后建模与调整模型之用。若按此门槛进行挑选，则这个项目仅有少部分的字段且集中于某一个数据源，这样会使得模型的产生有所偏颇，效度降低。为了增加短变量列表（Short List）样本数且涵盖较多数据集，选择调整短变量列表（Short List）的通过门槛为：挑选通过检验且IV值大于0.07的字段。以此方式挑选出来的字段涵盖了所有的数据源，也得到了金融服务公司的认可。

## 4. 模型建立与验证

评分模型可能有多种不同的开发方式，逻辑回归（Logistic Regression）是建立评分卡时最常用的统计方法，它适用于字段为连续型或是间断型的情况，并利用事件发生与未发生的Odds值取对数，来预测未来事件发生的概率，在挑选对好（Good）与坏（Bad）鉴别力最佳的变量组合并指定其系数时，其变量相关性（Correlation）也会并入考虑中。

将短变量列表（Short List）字段的WOE值代入逻辑回归的公式中，就能找出一个最佳解，例如，在短变量列表（Short List）中共有7个字段，从X1到X7，则有可能产生7个相对的系数β1到β7与一个截距α，得出以下的方程式:

Y =α+β1X1+β2X2+β3X3+β4X4+β5X5+β6X6+β7X7，接下来，再利用评分估算技术将评分卡系数转换为便于解读的形式。

一般业界为了便于解读，通常会根据以下的假设来进行评分估算：平均分数为200分，每隔20分Odds加倍。Odds指的是Good/Bad 的比值，也就是每隔20分，未违约客户与违约客户的比例会加倍，因此，我们可以根据此分数区间规划合理的风险区隔以进行差异化管理，结果如表11-6所示。

| 分数区间 | 总样本/笔 | 好样本/笔 | 坏样本/笔 | 违约率/% | 累计好样本率/% | 累计坏样本率/% |
|----------|-----------|-----------|-----------|----------|----------------|----------------|
| ≤350     | 128       | 27        | 101       | 78.91    | 1              | 7              |
| 350~375  | 161       | 50        | 111       | 68.94    | 4              | 16             |
| 375~400  | 277       | 100       | 177       | 63.90    | 9              | 29             |
| 400~425  | 421       | 193       | 228       | 54.16    | 19             | 45             |
| 425~450  | 376       | 126       | 250       | 66.49    | 22             | 64             |
| 450~475  | 502       | 302       | 200       | 39.84    | 50             | 78             |
| 475~500  | 579       | 424       | 155       | 26.77    | 73             | 90             |
| 500~525  | 406       | 323       | 83        | 20.44    | 86             | 96             |
| 525~550  | 259       | 226       | 33        | 12.74    | 94             | 98             |
| ≥550     | 210       | 188       | 22        | 10.48    | 100            | 100            |
| 合计     | 3319      | 1959      | 1360      | —        | —              | —              |


在信用评分卡建立过程中，为了能够有效评估信用评分卡的预测能力，以及诊断是否需要进一步修正，必须通过评估图表来检视评分卡成效。接下来，就用K-S值来测验模型在哪个评分区间能够将正常客户与违约客户分得最开，可用图11-4来表示。

![表11-4：前3个月每月违约账龄分析表](https://mingminyu.github.io/webassets/images/20251211/11_06.png)

从图11-4中可以得知，在425～450这个区间的正常客户与违约客户分得最开。中间的差距为42%（64%-22%）​，是最大区间。K-S预测力分析显示，依实务推论，K-S值在40以上是普遍可接受的参考值，若K-S在20以下则表示此模型几乎没有预测能力，K-S如在75以上则表示此模型预测能力好到令人质疑，可能有失真或偏误的现象。
